---
title: Stems Separation
openapi: 'POST /stems_separation'
---

Separate an audio file into multiple musical stems like vocals, drums, bass, piano, and more. You can also specify a `webhook_url` for async callback.

---

## üé∑ Endpoint
This is the endpoint used for initiating stem separation tasks from audio inputs.

```http
POST /stems_separation
```



## ‚ñ∂Ô∏è Sample Output

Listen to a real sample output:

##### Input Audio : <audio controls="1" controlslist="nodownload nofullscreen noremoteplayback" src="https://musicgpt.s3.us-east-1.amazonaws.com/FileConversions/shaswatstagetestapril26.mp3">Your browser does not support the audio playback.</audio>

##### Output Stems :
- `drums` <audio controls="1" controlslist="nodownload nofullscreen noremoteplayback" src="https://musicgpt.s3.amazonaws.com/conversions/93643cc4-acc7-401b-bcbf-dfe1fd972e22_drums.mp3">Your browser does not support the audio playback.</audio>

- `piano`  <audio controls="1" controlslist="nodownload nofullscreen noremoteplayback" src="https://musicgpt.s3.amazonaws.com/conversions/93643cc4-acc7-401b-bcbf-dfe1fd972e22_piano.mp3">Your browser does not support the audio playback.</audio>

- get started on conversions to listen to the other stems generated : `bass`, `vocals` and `others`.

---

## üî¢ Request Parameters

| Parameter        | Type         | Required | Description                                                                 |
|------------------|--------------|----------|-----------------------------------------------------------------------------|
| `audio_url`      | `String`     | Optional | The URL of an audio file to separate into stems. Either `audio_url` or `audio_file` must be provided. |
| `audio_file`     | `UploadFile` | Optional | Upload the audio file directly. Either `audio_url` or `audio_file` must be provided. |
| `webhook_url`    | `String`     | Optional | Callback URL for async response.                                           |

> üí° **Note:** You must provide either `audio_url` or `audio_file` ‚Äî not both as `None`.

---

## üì§ Sample Request

### üëö cURL

```bash
curl -X POST "https://api.musicgpt.com/api/public/v1/StemsSeparation" \
-H "accept: application/json" \
-H "Authorization: <api_key>" \
-F "audio_url=https://www.youtube.com/watch?v=jGflUbPQfW8" \
-F "webhook_url=http://webhook.musicgpt.com"
```

### üêç Python

```python
import requests

url = "https://api.musicgpt.com/api/public/v1/StemsSeparation"

headers = {
    "accept": "application/json",
    "Authorization": "<api_key>"
}

input_audio_file = open("{path_to_your_audio_file}", "rb")

payload = {
    "audio_url": "",
    "webhook_url": "http://abcd.requestcatcher.com/test"
}

response = requests.post(url=url,
                         headers=headers,
                         data=payload,
                         files={"audio_file": input_audio_file})

print(response.status_code, response.json())
```

> üîê Replace `{path_to_your_audio_file}`, `api_key`, and `webhook_url` before executing.

---

## üì• Sample Response

### ‚úÖ Success (200 OK)

```json
{
  "success": true,
  "task_id": "93643cc4-acc7-401b-bcbf-dfe1fd972e22",
  "conversion_id": "81953ccd-cb3f-498b-8d2c-28db747447a5",
  "eta": 15
}
```

---

## ‚ùå Common Errors

- **422 Unprocessable Entity**: Both `audio_url` and `audio_file` cannot be `None`.
- **500 Internal Server Error**: An error occurred on the server.

---

## üìû Webhook Response

When the stem separation completes, the webhook receives:

```json
{
  "success": true,
  "conversion_type": "Stems Separation",
  "task_id": "93643cc4-acc7-401b-bcbf-dfe1fd972e22",
  "conversion_id": "81953ccd-cb3f-498b-8d2c-28db747447a5",
  "audio_path": "files/6f099954-7af2-418a-9b69-729295dff35c.wav",
  "bass": "https://musicgpt.s3.amazonaws.com/conversions/93643cc4-acc7-401b-bcbf-dfe1fd972e22_bass.mp3",
  "bass_wav": "https://musicgpt.s3.amazonaws.com/conversions/93643cc4-acc7-401b-bcbf-dfe1fd972e22_bass.wav",
  "drums": "https://musicgpt.s3.amazonaws.com/conversions/93643cc4-acc7-401b-bcbf-dfe1fd972e22_drums.mp3",
  "drums_wav": "https://musicgpt.s3.amazonaws.com/conversions/93643cc4-acc7-401b-bcbf-dfe1fd972e22_drums.wav",
  "guitar": "https://musicgpt.s3.amazonaws.com/conversions/93643cc4-acc7-401b-bcbf-dfe1fd972e22_guitar.mp3",
  "guitar_wav": "https://musicgpt.s3.amazonaws.com/conversions/93643cc4-acc7-401b-bcbf-dfe1fd972e22_guitar.wav",
  "other": "https://musicgpt.s3.amazonaws.com/conversions/93643cc4-acc7-401b-bcbf-dfe1fd972e22_other.mp3",
  "other_wav": "https://musicgpt.s3.amazonaws.com/conversions/93643cc4-acc7-401b-bcbf-dfe1fd972e22_other.wav",
  "piano": "https://musicgpt.s3.amazonaws.com/conversions/93643cc4-acc7-401b-bcbf-dfe1fd972e22_piano.mp3",
  "piano_wav": "https://musicgpt.s3.amazonaws.com/conversions/93643cc4-acc7-401b-bcbf-dfe1fd972e22_piano.wav",
  "vocals": "https://musicgpt.s3.amazonaws.com/conversions/93643cc4-acc7-401b-bcbf-dfe1fd972e22_vocals.mp3",
  "vocals_wav": "https://musicgpt.s3.amazonaws.com/conversions/93643cc4-acc7-401b-bcbf-dfe1fd972e22_vocals.wav",
  "message": "Stems Extraction Completed",
  "conversion_duration": 155.53,
  "conversion_cost": 1.57
}
```

You can download or stream each stem layer in both `.mp3` and `.wav` formats from the provided URLs.


