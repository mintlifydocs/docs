---
title: File Conversion  
openapi: 'POST /file_convert'  

---

Convert audio files to different formats with optional webhook support for asynchronous updates.

---

## 🎵 Endpoint

```http
POST /file_convert
```

This endpoint processes an uploaded or linked audio file and converts it to a specified output format. You may also define optional parameters like sample rate and bit depth.

---

## 🔢 Request Parameters

| Parameter           | Type         | Required | Description                                                                 |
|---------------------|--------------|----------|-----------------------------------------------------------------------------|
| `audio_url`         | `String`     | Optional | The URL of an audio file to convert. Either `audio_url` or `audio_file` must be provided. |
| `audio_file`        | `UploadFile` | Optional | Upload the audio file directly. Either `audio_url` or `audio_file` must be provided. |
| `target_format`     | `String`     | Yes      | Desired output format. Supported: `mp3`, `wav`, `flac`, `ogg`, `aac`, `webm`. |
| `target_sr`         | `Integer`    | Optional | Target sample rate in Hz. Defaults to original if not specified.            |
| `target_bit_depth`  | `Integer`    | Optional | Target bit depth. Options: `16`, `24`, `32`. Defaults to `16`.              |
| `webhook_url`       | `String`     | Optional | Callback URL to receive the result once conversion is complete.             |

---

## 📤 Sample Request

### 👚 cURL

```bash
curl -X POST \
  -F "audio_file=@input.mp3" \
  -F "target_format=wav" \
  -F "target_sr=44100" \
  -F "webhook_url=https://yourdomain.com/webhook" \
  https://api.musicgpt.com/api/public/v1/convert
```

### 🐍 Python

```python
import requests

url = "https://api.musicgpt.com/api/public/v1/convert"

headers = {
    "accept": "application/json",
    "Authorization": "<api_key>"
}

input_audio_file = open("{path_to_your_audio_file}", "rb")

payload = {
    "audio_url": "",
    "target_format": "wav",
    "target_sr": 44100,
    "target_bit_depth": 24,
    "webhook_url": "https://yourdomain.com/webhook"
}

response = requests.post(url=url,
                         headers=headers,
                         data=payload,
                         files={"audio_file": input_audio_file})

print(response.status_code, response.json())
```

> 🔐 Replace `{path_to_your_audio_file}`, `api_key`, and `webhook_url` before executing.

---

## 📥 Sample Response

### ✅ Success (200 OK)

```json
{
  "success": true,
  "conversion_id": "conv_abc123xyz456",
  "output_path": "",
  "credit_estimate": 100.1
}
```

---

## ❌ Common Errors

- **400 Bad Request**: Invalid request. Possibly due to missing parameters or unsupported formats.
- **500 Internal Server Error**: Server encountered an error during processing.

---

## 📞 Webhook Response

Once the file conversion is completed, the webhook receives:

```json
{
  "success": true,
  "conversion_id": "shaswatstagetestapril26",
  "output_file_path": "https://musicgpt.s3.amazonaws.com/conversions/123abc-denoise_no_noise.mp3",
  "conversion_type": "File Conversion"
}
```

---

## 📂 Output Fields

- `output_file_path`: Direct URL to download the converted audio file.
- `conversion_type`: Always `File Conversion` for this endpoint.
- `conversion_id`: A unique ID to track the request status.

