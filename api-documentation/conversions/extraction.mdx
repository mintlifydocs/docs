---

title: Extraction
openapi: 'POST /Extraction'
---------------------------

Extract vocals, instrumentals, or other stems from an audio file or URL, with optional preprocessing. This endpoint supports file uploads or remote URLs and allows webhook callbacks for async updates.

---

## üéß Endpoint

```http
POST /Extraction
```

Use this endpoint to extract stems like vocals, drums, guitar, or more from an audio source.

---

## üî¢ Request Parameters

| Parameter               | Type         | Required | Description                                                                                 |
| ----------------------- | ------------ | -------- | ------------------------------------------------------------------------------------------- |
| `audio_url`             | `string`     | Optional | URL of the audio file to extract from. Either `audio_url` or `audio_file` must be provided. |
| `audio_file`            | `UploadFile` | Optional | Audio file to upload and process. Either `audio_url` or `audio_file` must be provided.      |
| `stems`                 | `string`     | Optional | JSON string list of required stems. e.g., `["vocals", "drums"]`. Full list below.           |
| `preprocessing_options` | `string`     | Optional | JSON string list of preprocessing options. e.g., `["Denoise"]`. Full list below.            |
| `webhook_url`           | `string`     | Optional | Callback URL to receive async processing results.                                           |

> ‚ú® **Available Stems:** `vocals`, `instrumental`, `male_vocal`, `female_vocal`, `lead_vocal`, `back_vocal`, `bass`, `drums`, `guitar`, `piano`, `keys`, `strings`, `winds`, `rhythm_guitar`, `solo_guitar`, `acoustic_guitar`, `electric_guitar`, `kick_drum`, `snare_drum`, `toms`, `hi_hat`, `ride`, `crash`

> ‚öôÔ∏è **Preprocessing Options:** `Denoise`, `Deecho`, `Dereverb`

---
## ‚ñ∂Ô∏è Sample Output

Sample Output : Vocals
<audio controls="1" controlslist="nodownload nofullscreen noremoteplayback" src="https://lalals.s3.amazonaws.com/conversions/1683c35d-3990-4aac-98da-6847a6893893_vocals.mp3">Your browser does not support the audio playback.</audio>

<a href="https://lalals.s3.amazonaws.com/conversions/1683c35d-3990-4aac-98da-6847a6893893_vocals.wav" target="_blank">Download Audio</a>


Sample Output : instrumentals
<audio controls="1" controlslist="nodownload nofullscreen noremoteplayback" src="https://lalals.s3.amazonaws.com/conversions/1683c35d-3990-4aac-98da-6847a6893893_instrumental.mp3">Your browser does not support the audio playback.</audio>

<a href="https://lalals.s3.amazonaws.com/conversions/1683c35d-3990-4aac-98da-6847a6893893_instrumental.wav" target="_blank">Download Audio</a>

---
## üì§ Sample Request

### ü¶ö cURL

```bash
curl -X POST "https://api.musicgpt.com/api/public/v1/Extraction" \
-H "accept: application/json" \
-H "Authorization: <api_key>" \
-F "audio_file=@path_to_audio.mp3" \
-F "stems=[\"vocals\",\"drums\"]" \
-F "preprocessing_options=[\"Denoise\"]" \
-F "webhook_url=http://webhook.musicgpt.com"
```

### üêç Python

```python
import requests
import json

url = "https://api.musicgpt.com/api/public/v1/Extraction"
headers = {
    "accept": "application/json",
    "Authorization": "<api_key>"
}

files = {
    "audio_file": open("path_to_audio.mp3", "rb")
}
data = {
    "stems": json.dumps(["vocals", "drums"]),
    "preprocessing_options": json.dumps(["Denoise"]),
    "webhook_url": "http://webhook.musicgpt.com"
}

response = requests.post(url, headers=headers, data=data, files=files)
print(response.json())
```

> üîê Replace `path_to_audio.mp3`, `api_key`, and `webhook_url` with actual values.

---

## üì• Sample Response

### ‚úÖ Success (200 OK)

```json
{
  "success":true,
  "task_id":"1683c35d-3990-4aac-98da-6847a6893893",
  "conversion_id":"dded3f43-4715-4564-88e0-b66ebc00c466",
  "eta":147,
  "credit_estimate":5.55,
  "message":"Message published to queue",
  "status":"IN_QUEUE"
}
```

---

## üì• Webhook Response

### ‚úÖ Success (200 OK)

```json
{
  "success": true, 
  "conversion_type": "Extraction", 
  "task_id": "1683c35d-3990-4aac-98da-6847a6893893", 
  "conversion_id": "dded3f43-4715-4564-88e0-b66ebc00c466", 
  "audio_url": "{\"vocals\": \"https://lalals.s3.amazonaws.com/conversions/1683c35d-3990-4aac-98da-6847a6893893_vocals.mp3\", 
                \"instrumental\": \"https://lalals.s3.amazonaws.com/conversions/1683c35d-3990-4aac-98da-6847a6893893_instrumental.mp3\", 
                \"solo_guitar\": \"https://lalals.s3.amazonaws.com/conversions/1683c35d-3990-4aac-98da-6847a6893893_solo_guitar.mp3\"}", 
  "audio_url_wav": "{\"vocals\": \"https://lalals.s3.amazonaws.com/conversions/1683c35d-3990-4aac-98da-6847a6893893_vocals.wav\", 
                \"instrumental\": \"https://lalals.s3.amazonaws.com/conversions/1683c35d-3990-4aac-98da-6847a6893893_instrumental.wav\", 
                \"solo_guitar\": \"https://lalals.s3.amazonaws.com/conversions/1683c35d-3990-4aac-98da-6847a6893893_solo_guitar.wav\"}", 
  "conversion_cost": "5.55", 
  "conversion_duration": 136.83045351473922
}
```

---

## ‚ùå Common Errors

* **422 Unprocessable Entity**: When neither `audio_url` nor `audio_file` is provided.
* **500 Internal Server Error**: A server-side error occurred.

---

## üó∞Ô∏è Webhook Response

If a `webhook_url` is provided, it receives this payload on completion:

```json
{
  "success": true,
  "task_id": "62725d68-01e8-4c87-8fb0-298aa81c529c",
  "conversion_id": "46b358c9-b22f-49d1-a68d-17901a6a549b",
  "audio_path": "https://aws.signed.url",
  "vocal": "https://aws.signed.url/vocal",
  "instrumental": "https://aws.signed.url/instrumental",
  "back_vocal": "https://aws.signed.url/back_vocal",
  "conversion_cost": 5.0,
  "conversion_duration": 120.5
}
```

Download or stream individual stems from their respective URLs.


## Payload and Request Formation